---
import Container from "./container.astro";
import { Image } from 'astro:assets'

import logo from "../assets/logo.png"

interface Menu {
  label: string;
  href: string;
  external?: boolean;
  badge?: string;
}
const menu: Menu[] = [
  {
    label: "Articles",
    href: "/articles",
  },
  {
    label: "Le conseil municipal",
    href: "/tags/conseil-municipal",
  }
];

const currentPath = Astro.url.pathname;


---

<Container>
  <nav>
    <div class="flex flex-wrap items-center ">
      <a class="w-32 h-32 p-4 rounded-full border border-gray-300 bg-white" href="/">
        <Image src={logo} alt="Logo Agir Autrement" loading={'eager'}></Image>
      </a>
      <div class="flex h-fit -mx-2 px-8 py-2 justify-start md:gap-10 md:flex-nowrap border-t border-b border-e rounded-e-full">
        {
          menu.map((item) => (
            <a
              href={item.href}
              class={ `px-5 py-2 text-lg underline-offset-8 hover:underline hover:text-green-800 ${currentPath.indexOf(item.href) === 0? 'text-green-800 underline ': '' }`}>
              {item.label}
            </a>
          ))
        }
      </div>
  </nav>
</Container>

<script is:inline>
  const menuButton = document.getElementById("menu");
  menuButton.addEventListener("click", () => {
    [...document.querySelectorAll(".navmenu-toggle")].forEach((Element) => {
      Element.classList.toggle("hidden");
    });
  });
</script>