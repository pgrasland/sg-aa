---
import Container from "./container.astro";
import { Image } from "astro:assets";

import logo from "../assets/logo.png";

interface Menu {
  label: string;
  href: string;
  external?: boolean;
  badge?: string;
}
const menu: Menu[] = [
  {
    label: "Articles",
    href: "/sg-aa/articles",
  },
  {
    label: "Le conseil municipal",
    href: "/sg-aa/tags/conseil-municipal",
  },
];

const currentPath = Astro.url.pathname;
---

<nav class="grid grid-cols-1 grid-rows-1 gap-4 bg-green-700/20 px-8 py-4">
  <a
    class="border-1 z-0 col-span-full col-start-1 row-span-full row-start-1 mx-auto h-32 w-32 rounded-full border-green-700 bg-white p-4 ring-2 ring-inset ring-green-700 lg:mx-0"
    href="/sg-aa"
  >
    <Image src={logo} alt="Logo Agir Autrement" loading={"eager"} />
  </a>
  <div
    class="z-1 mx-auto mb-4 flex h-fit flex-col items-center justify-start gap-4 border border-green-700 bg-white px-8 py-2 shadow-[1rem_1rem] shadow-green-700 md:flex-nowrap lg:col-span-full lg:col-start-1 lg:row-span-full lg:row-start-1 lg:my-auto lg:flex-row"
  >
    {
      menu.map((item) => (
        <a
          href={item.href}
          class={`px-5 text-lg underline-offset-8 hover:text-green-800 hover:underline ${currentPath.indexOf(item.href) === 0 ? "text-green-800 underline " : ""}`}
        >
          {item.label}
        </a>
      ))
    }
  </div>
</nav>
